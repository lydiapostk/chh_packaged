(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[205],{67:function(){},2061:function(){},7924:function(e,a,s){Promise.resolve().then(s.bind(s,5657))},5657:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return W}});var t=s(9268),n=s(6006);let r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function o(e){switch(e){case"Jan":return 1;case"Feb":return 2;case"Mar":return 3;case"Apr":return 4;case"May":return 5;case"Jun":return 6;case"Jul":return 7;case"Aug":return 8;case"Sep":return 9;case"Oct":return 10;case"Nov":return 11;case"Dec":return 12}}var l=s(3539),i=s(2492),c=s(7391),d=s(8395),u=s(5972),m=s(304);function h(e){let{isCardSelected:a,goToNextCard:s,showSpinner:n,selectedMonth:o,setSelectedMonth:h,selectedYear:p,setSelectedYear:x,allCrsNames:f,leavingCrs:g,setLeavingCrs:v,noNewCaseCrs:_,setNoNewCaseCrs:w}=e;return(0,t.jsxs)(d.Z,{isCardSelected:a,showSpinner:n,children:[(0,t.jsxs)("div",{className:"w-20 py-10 flex flex-row gap-2 justify-center",children:[(0,t.jsx)(i.Z,{options:r,selectedOption:o,setSelectedOption:h}),(0,t.jsx)(c.Z,{name:"Year",numInput:p,setNumInput:x})]}),(0,t.jsx)("div",{className:"text-center py-2",children:(0,t.jsx)(u.Z,{title:"Leaving CRS",description:"Select those who are leaving this month.",children:(0,t.jsx)(m.Z,{options:f,selectedOptions:g,setSelectedOptions:v})})}),(0,t.jsx)("div",{className:"text-center py-2",children:(0,t.jsx)(u.Z,{title:"No New Cases",description:"Select CRS who are not taking new cases this month.",children:(0,t.jsx)(m.Z,{options:f,selectedOptions:_,setSelectedOptions:w})})}),(0,t.jsx)("div",{className:"w-20 py-10 flex flex-row gap-2 justify-center",children:(0,t.jsx)(l.Z,{onClick:s,description:"Start"})})]})}var p=s(9219);let x=["XLS","xls","XLSX","xlsx","xlsm","xlsb"],f=["CSV","csv"];function g(e){let{fileName:a,setFileName:s,expectedSheetsProp:r,errorMessage:o,setErrorMessage:l}=e,[i,c]=(0,n.useState)(!1),d=""!==o;function u(e){if(s(""),void 0!==e){var a=e.name.split(".").pop();f.includes(a)||x.includes(a)?(l(""),function(e,a){var t=f.includes(a)?"csv":"xlsx";let n=new FileReader;switch(t){case"csv":n.readAsText(e);break;case"xlsx":n.readAsBinaryString(e)}n.onload=function(e){var a;let n=null===(a=e.target)||void 0===a?void 0:a.result;Array.from(r).forEach(e=>{var a=e.headersValidation;try{var r=function(e){let{fileType:a,file:s,checkFileData:t,renameHeaders:n,paddedCol:r,paddedRow:o,sheetName:l}=e;if(null==s)throw Error("Undefined file");var i,c=[];switch(a){case"csv":let d=s.toString().trim().split("\n");for(var u of d){let e=u.toString().split(",");c.push(e)}i=c[0];case"xlsx":var m=p.ij(s,{type:"binary"});l="number"==typeof l?m.SheetNames[l]:l&&""!=l?l:m.SheetNames[0];var h=m.Sheets[l],x=p.P6.sheet_to_json(h,{header:1,raw:!1});if(i=x.shift(),o)for(var f=0;f<o;f++)i=x.shift();if(!i)throw Error("Headers cannot be found! Did you leave empty rows at the top?");i=i.map(e=>e.trim()),c=x}null==t||t.headersValidation(i);for(var g=[],v=r||0,f=0;f<c.length;f++){var _={},w=c[f];if(!w.every(e=>i.some(a=>e.includes(a)))){for(var j=v;j<i.length;j++){var N=i[j];void 0!==n&&(N=n(N)||N),_[N]=w[j]?w[j].trim():w[j]}g.push(_)}}return g}({fileType:t,file:n,checkFileData:a?{headersValidation:a,setErrorMessage:l}:void 0,renameHeaders:e.renameHeaders,paddedCol:e.colPadding,paddedRow:e.rowPadding,sheetName:e.sheetName});e.setFileDataTable(r),s("Uploaded!")}catch(e){l(e.message)}})}}(e,a)):l("Unexpected file type selected!")}}return(0,t.jsx)("div",{className:"flex items-center justify-center w-full ".concat(i?"text-gray-100":d?"text-red-500 hover:text-red-700":""==a?"text-amber-500 hover:text-gray-100":"text-green-500 hover:text-green-700"),onDragOver:e=>{e.preventDefault(),c(!0)},onDragLeave:e=>{e.preventDefault(),c(!1)},onDrop:e=>{e.preventDefault(),void 0!=e.dataTransfer&&(c(!1),u(Array.from(e.dataTransfer.files)[0]))},children:(0,t.jsxs)("label",{className:"".concat(i?"bg-amber-400":d?"bg-red-100 hover:bg-red-200":""==a?"bg-amber-100 hover:bg-amber-400":"bg-green-100 hover:bg-green-200"," ").concat(d?"border-red-500":""==a?"border-amber-500":"border-green-500"," transition duration-150 ease-in-out flex flex-col items-center justify-center w-full h-40 border-2 border-dashed rounded-lg cursor-pointer"),children:[(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[(0,t.jsx)("svg",{className:"w-8 h-8 mb-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:(0,t.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})}),(0,t.jsxs)("p",{className:"mb-2 text-sm",children:[(0,t.jsx)("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),(0,t.jsx)("p",{className:"text-xs",children:"CSV or XLSX"}),d&&(0,t.jsx)("p",{className:"text-xs py-2",children:o})]}),a,(0,t.jsx)("input",{id:"dropzone-file",type:"file",accept:".csv, .xlsx, .xls",className:"hidden",onChange:e=>{e.target.files&&u(e.target.files[0]),e.target.value=""}})]})})}var v=s(7853);let _=new v.c({"Date Updated":"date_updated",Remarks:"remarks","Prison No":"prison_no",Name:"name",NRIC:"nric",Location:"location","Emplacement Date":"start_date","Cohort Number":"cohort_no","CBP Scheme":"cbp_scheme","CBP Location":"cbp_location","CBP Duration":"cbp_duration","Medical Fitness Status":"medical_status","Sexual / Violent\nAlert Rating":"iph_status","STRAT-G":"bin","Offence Category":"offence_category","Admission Date":"admission_date","LDR / EDR / TDD":"end_date","Age (Years)":"age","Education Level":"education","Spoken Language":"spoken_language","MAS Cat.":"mas_cat","Social Service Agency / Volunteer name":"volunteer","Contact Details":"contact_details","NOK Name":"nok_name","Block No.":"nok_block","Street Name":"nok_street_name","Unit No.":"nok_unit_address","Postal Code":"nok_postal_code","Contact No.":"nok_contact_no"}),w=new v.c({"Case Type":"case_type","LCM Case":"is_lcm_case","CRS Name":"crs_name","RO Name":"ro_name",Remarks:"remarks","IPH Rating":"iph_rating","IPH reasons":"iph_reasons","MAS Category":"mas_cat","Prison No":"prison_no",Name:"name",NRIC:"nric","CBP Scheme":"cbp_scheme","Emplacement Date":"start_date","TDD (for CBP)":"end_date","EDR (for MAS)":"edr_mas","Case Status":"case_status","For Model":"for_model",Cat:"cat",HWH:"hwh_location","CBP Duration":"cbp_duration","MAS Duration":"mas_duration",Bin:"bin","DRC Timer":"drc_timer","Current Age":"age",Gender:"gender","Spoken Language":"spoken_language","Educational Level":"education","Medical Records":"medical_status","Incare CRS":"incare_crs",Sexual:"sexual_alert",Violent:"violent_alert","NOK Name":"nok_name","NOK Relationship":"nok_relationship","NOK Blk Street Name":"nok_block_street_address","NOK Level Unit":"nok_unit_address","NOK Postal Code":"nok_postal_code","NOK Contact":"nok_contact_no","Inmate Street Name":"inmate_street_address","Inmate Postal Code":"inmate_postal_code"});function j(e){var a="CrsDatabase"===e?w.keys():_.keys();return function(e){for(let s of a)if(!e.includes(s))throw Error("Missing header: ".concat(s));return!0}}let N=new v.c({name:"Name",gender:"Gender",iph_rating:"IPH Rating",cat:"Cat",cbp_duration:"CBP Duration",cbp_scheme:"CBP Scheme",end_date:"End Date",hwh_location:"HWH Location",spoken_language:"Spoken Language"}),b=new v.c({crs_name:"Name",old_caseload:"Old Caseload",is_leaving:"Is Leaving",no_new_cases:"On Hiatus"}),y=new v.c({name:"Name",is_lcm_case:"Is LCM",gender:"Gender",iph_rating:"IPH Rating",cat:"Cat",cbp_duration:"CBP Duration",cbp_scheme:"CBP Scheme",end_date:"End Date",hwh_location:"HWH Location",spoken_language:"Spoken Language"}),C=new v.c({crs_name:"Name",old_caseload:"Old Caseload",num_new_cases:"No. New Cases",new_caseload:"New Caseload",is_leaving:"Is Leaving",no_new_cases:"On Hiatus"});function S(e){let{isCardSelected:a,goToNextCard:s,goToPreviousCard:r,showSpinner:o,setCrsDatabase:l,setEmplacementList:i}=e,[c,u]=(0,n.useState)(""),[m,h]=(0,n.useState)(""),[p,x]=(0,n.useState)(""),[f,v]=(0,n.useState)(""),N=[{setFileDataTable:l,renameHeaders:e=>w.getValue(e),headersValidation:j("CrsDatabase")}],b=[{setFileDataTable:i,renameHeaders:e=>_.getValue(e),headersValidation:j("EmplacementList")}];return(0,t.jsxs)(d.Z,{isCardSelected:a,goToNextCard:function(){0===c.length&&v("Please upload a file!"),0===m.length&&x("Please upload a file!"),c.length>0&&m.length>0&&s()},goToPreviousCard:r,title:"Upload Datasets",showSpinner:o,children:[(0,t.jsxs)("div",{className:"block py-2",children:[(0,t.jsx)("p",{className:"inline-flex underline decoration-double font-mono text-lg",children:"CRS Database"}),": Used for calculating CRS caseload, and filtering cases belonging to leaving CRS."]}),(0,t.jsx)("div",{className:"w-5/6 lg:w-4/6",children:(0,t.jsx)(g,{fileName:c,setFileName:u,expectedSheetsProp:N,errorMessage:f,setErrorMessage:v})}),(0,t.jsxs)("div",{className:"block py-2",children:[(0,t.jsx)("p",{className:"inline-flex underline decoration-double font-mono text-lg",children:"Emplacement Dataset"}),": New CHH supervisees will be filtered from list of all newly emplaced supervisees."]}),(0,t.jsx)("div",{className:"w-5/6 lg:w-4/6",children:(0,t.jsx)(g,{fileName:m,setFileName:h,expectedSheetsProp:b,errorMessage:p,setErrorMessage:x})})]})}var k=s(1888),T=s(3916),P=s(5667),O=s(1401),D=s(7995),L=s(8402),Z=s(5846),R=s(6650),M=s(2625),E=s(7913),I=s.n(E);function F(e){return!e.case_type.startsWith("No ")}function A(e){let{superviseesInfo:a,setChhSuperviseesInfo:s,showSupsType:n,columnNameKeyMap:r,supEditType:o,crsNames:l,updateSup:c}=e;var d="toggleEmplacement"==o,u="assignCRS"==o;function m(e){var a=d||!e.case_type.includes("No");switch(n){case"all":return a;case"leaving":return e.case_type.includes("Leaving")&&a;case"new":return e.case_type.includes("New")&&a;case"penal/black":return"DRC"!=e.cat||"Black"==e.iph_rating}}I()(!u||l,"Expect CRS names to be passed in as prop if user is expected to be allowed to assign CRS!");var h=a.filter(e=>m(e)&&F(e)).length;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"text-center py-4 bg-yellow-400 font-semibold text-base",children:"".concat("all"==n?"Total number of supervisees":"leaving"==n?"Number of reassignments":"Number of new cases"," for emplacement: ").concat(h)}),(0,t.jsxs)(O.Z,{children:[(0,t.jsxs)(R.Z,{children:[d?(0,t.jsx)(Z.Z,{content:"To Emplace?"},"to_emplace"):(0,t.jsx)(t.Fragment,{}),Array.from(r.keys()).map(e=>(0,t.jsx)(Z.Z,{content:r.getValue(e)},e)),u?(0,t.jsx)(Z.Z,{content:"CRS Name"},"crs_name"):(0,t.jsx)(t.Fragment,{})]}),(0,t.jsx)(D.Z,{children:a.filter(e=>m(e)).map(e=>(0,t.jsxs)(M.Z,{className:e.crs_name||!u?"hover:bg-gray-50":"bg-red-200 text-red-700 hover:bg-red-100",children:[d?(0,t.jsx)(L.Z,{content:(0,t.jsx)(P.Z,{enabled:F(e),setEnabled:d?function(t){if(e.case_type.startsWith("No "))var n=e.case_type.substring(3);else var n="No ".concat(e.case_type);e.case_type=n;var r=a.findIndex(a=>a.name==e.name);let o=[...a.slice(0,r),e,...a.slice(r+1)];s(o)}:function(e){}},"to_emplace_toggle"+e.name)},"to_emplace"+e.name):(0,t.jsx)(t.Fragment,{}),Array.from(r.keys()).map(a=>(0,t.jsx)(L.Z,{content:String(e[a])},a+e.name)),u?(0,t.jsx)(L.Z,{content:(0,t.jsx)("div",{className:"flex flex-col flex-nowrap relative w-auto gap-1 h-full",children:(0,t.jsx)(i.Z,{options:l,selectedOption:e.crs_name,setSelectedOption:u?(I()(c),function(a){var s=e.crs_name;e.crs_name=a,c(e,s)}):function(e){}})})},"crs_name"+e.name):(0,t.jsx)(t.Fragment,{})]},e.name))})]})]})}function H(e,a){switch(a){case"all":return!0;case"leaving":return e.is_leaving;case"on hiatus":return e.no_new_cases;case"taking new cases":return!e.no_new_cases&&!e.is_leaving}}function B(e){let{crsInfo:a,showCrsType:s,columnNameKeyMap:n}=e;var r=a.filter(e=>!e.is_leaving&&!e.no_new_cases).length,o=a.filter(e=>H(e,s)).length;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"text-center py-4 bg-yellow-400 font-semibold text-base",children:[(0,t.jsx)("p",{children:"Total number of caseworkers taking new cases this month: ".concat(r,"\n")}),"taking new cases"!=s&&(0,t.jsx)("p",{className:"font-normal",children:"".concat(function(){switch(s){case"all":return"All";case"leaving":return"Leaving";case"on hiatus":return"Not taking new cases this month"}}(),": ").concat(o)}),"taking new cases"!=s&&(0,t.jsx)("p",{className:"font-normal italic px-4",children:"To add or remove caseworkers, or change leaving / hiatus status, please restart."})]}),(0,t.jsxs)(O.Z,{children:[(0,t.jsx)(R.Z,{children:Array.from(n.keys()).map(e=>(0,t.jsx)(Z.Z,{content:n.getValue(e)},e))}),(0,t.jsx)(D.Z,{children:a.filter(e=>H(e,s)).map(e=>(0,t.jsx)(M.Z,{children:Array.from(n.keys()).map(a=>(0,t.jsx)(L.Z,{content:e[a].toString()},a+e.crs_name))},e.crs_name))})]})]})}function V(e){let{isCardSelected:a,goToNextCard:s,goToPreviousCard:r,crsProcessedInfo:o,chhSuperviseesInfo:l,setChhSuperviseesInfo:i}=e,[c,u]=(0,n.useState)("all"),[m,h]=(0,n.useState)("all");return(0,t.jsx)(d.Z,{isCardSelected:a,goToNextCard:s,goToPreviousCard:r,title:"Check emplacement data",children:(0,t.jsxs)(k.O.Group,{children:[(0,t.jsx)(T.u,{tabTitles:["Supervisees","Caseworkers"]}),"=",(0,t.jsxs)(k.O.Panels,{className:"max-w-full max-h-full",children:[(0,t.jsxs)(k.O.Panel,{children:[(0,t.jsx)(k.O.Group,{onChange:function(e){switch(e){case 0:u("all");break;case 1:u("penal/black");break;case 2:u("leaving")}},selectedIndex:function(){switch(c){case"all":return 0;case"penal/black":return 1;case"leaving":return 2}}(),children:(0,t.jsx)(T.u,{tabTitles:["All","Penal or black cases","Leaving caseworkers' cases"]})}),(0,t.jsx)(A,{superviseesInfo:l,setChhSuperviseesInfo:i,columnNameKeyMap:N,showSupsType:c,supEditType:"toggleEmplacement"})]},"Supervisees"),(0,t.jsxs)(k.O.Panel,{children:[(0,t.jsx)(k.O.Group,{onChange:function(e){switch(e){case 0:h("all");break;case 1:h("on hiatus");break;case 2:h("leaving")}},selectedIndex:function(){switch(m){case"all":return 0;case"on hiatus":return 1;case"leaving":return 2}}(),children:(0,t.jsx)(T.u,{tabTitles:["All","On hiatus","Leaving caseworkers"]})}),(0,t.jsx)(B,{crsInfo:o,showCrsType:m,columnNameKeyMap:b})]},"Crs")]}),"="]})})}var J=s(3313);function K(e){let{onClick:a,text:s,colour:n,isActive:r}=e;var o=J.m[n],l=void 0==r||r?"":"opacity-25 pointer-events-none";return(0,t.jsxs)("button",{type:"button",onClick:function(){(void 0==r||r)&&a()},className:"".concat(o," ").concat(l," flex flex-row rounded-md justify-between gap-2 items-center px-3 py-2 text-sm font-semibold focus:outline-none focus-visible:ring-2"),children:[(0,t.jsx)("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 1v11m0 0 4-4m-4 4L4 8m11 4v3a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-3"})}),(0,t.jsx)("div",{className:"absolute invisible lg:visible lg:relative",children:s})]})}function G(e){let{isCardSelected:a,goToNextCard:s,goToPreviousCard:r,showSpinner:o,crsEmplacementResult:l,chhSupEmplacementResult:i,setChhSupEmplacementResult:c,updateSup:u,downloadResults:m}=e;var h=l.filter(e=>H(e,"taking new cases")).map(e=>e.crs_name);let[p,x]=(0,n.useState)("all");return(0,t.jsxs)(d.Z,{isCardSelected:a,goToNextCard:s,goToPreviousCard:r,title:"Emplacement result",showSpinner:o,children:[(0,t.jsx)("div",{className:"py-2",children:(0,t.jsx)(K,{onClick:m,text:"Download",colour:"yellow"})}),(0,t.jsx)("div",{className:"container max-w-full y-screen",children:(0,t.jsxs)(k.O.Group,{children:[(0,t.jsx)(T.u,{tabTitles:["Supervisees","Caseworkers"]}),(0,t.jsx)("div",{className:"w-full overflow-x-scroll max-h-screen",children:(0,t.jsxs)(k.O.Panels,{children:[(0,t.jsxs)(k.O.Panel,{children:[(0,t.jsx)(k.O.Group,{onChange:function(e){switch(e){case 0:x("all");break;case 1:x("penal/black");break;case 2:x("leaving")}},selectedIndex:function(){switch(p){case"all":return 0;case"penal/black":return 1;case"leaving":return 2}}(),children:(0,t.jsx)(T.u,{tabTitles:["All","Penal or black cases","Leaving caseworkers' cases"]})}),(0,t.jsx)(A,{superviseesInfo:i,setChhSuperviseesInfo:c,showSupsType:p,columnNameKeyMap:y,supEditType:"assignCRS",crsNames:h,updateSup:u})]},"Supervisees"),(0,t.jsx)(k.O.Panel,{children:(0,t.jsx)(B,{crsInfo:l,showCrsType:"taking new cases",columnNameKeyMap:C})},"Crs")]})})]})})]})}var U=s(8021);function W(){let[e,a]=(0,n.useState)(""),[s,l]=(0,n.useState)(1),[i,c]=(0,n.useState)(!0),d=(new Date().getMonth()+3)%12,u=new Date().getFullYear()+(d>new Date().getMonth()?0:1),[m,x]=(0,n.useState)(r[d]),[f,g]=(0,n.useState)(u),[v,_]=(0,n.useState)([]),[j,N]=(0,n.useState)([]),[b,y]=(0,n.useState)([]);(0,n.useEffect)(()=>{fetch("/database/get_active_crs_names").then(e=>e.json().then(e=>{y(e),c(!1)}))},[]);let[C,k]=(0,n.useState)([]),[T,P]=(0,n.useState)([]),[O,D]=(0,n.useState)([]),[L,Z]=(0,n.useState)([]),[R,M]=(0,n.useState)([]),[E,I]=(0,n.useState)([]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h,{isCardSelected:1===s,goToNextCard:function(){l(2)},selectedMonth:m,setSelectedMonth:x,selectedYear:f,setSelectedYear:g,allCrsNames:b,leavingCrs:v,setLeavingCrs:_,noNewCaseCrs:j,setNoNewCaseCrs:N,showSpinner:i}),(0,t.jsx)(S,{isCardSelected:2===s,goToPreviousCard:()=>{l(1)},goToNextCard:function(){c(!0);var e=b.map(e=>({crs_name:e,is_leaving:v.includes(e),no_new_cases:j.includes(e)}));fetch("/database/filter_supervisees",{method:"POST",mode:"cors",body:JSON.stringify({month:o(m),year:f,crs_info:e,crs_database:C,emplacement_list:T}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then(e=>{e.json().then(e=>{l(3),D(JSON.parse(e.crs)),Z(JSON.parse(e.sups))}).catch(()=>{a("".concat(e.status,": ").concat(e.statusText))})}).catch(e=>{a(e.message)}).finally(()=>{c(!1)})},setCrsDatabase:k,setEmplacementList:P,showSpinner:i}),(0,t.jsx)(V,{isCardSelected:3===s,goToPreviousCard:()=>{l(2)},goToNextCard:function(){c(!0),l(4);var e={month:o(m),year:f,crs_info:O,chh_supervisees_info:L};fetch("/database/emplace_chh_supervisees",{method:"POST",mode:"cors",body:JSON.stringify(e),headers:{"Content-type":"application/json; charset=UTF-8"}}).then(e=>{e.json().then(e=>{M(JSON.parse(e.crs)),I(JSON.parse(e.sups))}).catch(()=>{a("".concat(e.status,": ").concat(e.statusText))})}).catch(e=>{a(e.message)}).finally(()=>{c(!1)})},crsProcessedInfo:O,chhSuperviseesInfo:L,setChhSuperviseesInfo:Z,showSpinner:i}),(0,t.jsx)(G,{isCardSelected:4===s,goToPreviousCard:()=>{l(3)},crsEmplacementResult:R,chhSupEmplacementResult:E,setChhSupEmplacementResult:I,updateSup:function(e,a){var s=R.find(e=>e.crs_name==a);s&&(s.num_new_cases=(parseInt(s.num_new_cases)-1).toString(),s.new_caseload=(parseInt(s.new_caseload)-1).toString(),M([...R.filter(e=>e.crs_name!=a),s].sort((e,a)=>e.crs_name.localeCompare(a.crs_name))));var t=R.find(a=>a.crs_name==e.crs_name);t&&(t.num_new_cases=(parseInt(t.num_new_cases)+1).toString(),t.new_caseload=(parseInt(t.new_caseload)+1).toString(),M([...R.filter(a=>a.crs_name!=e.crs_name),t].sort((e,a)=>e.crs_name.localeCompare(a.crs_name)))),I([...E.filter(a=>a.name!=e.name),e].sort((e,a)=>e.name.localeCompare(a.name)))},downloadResults:function(){var e=w.getKeyList(),a=E.map(e=>{for(var a in delete e.crs_last_updated_month,delete e.crs_last_updated_year,e)e[w.getIndexOfValue(a)]=e[a],delete e[a];return e}),s=p.P6.book_new();p.P6.sheet_add_aoa(s,[e]);var t=p.P6.sheet_add_json(s,a,{origin:"A2",skipHeader:!0});p.P6.book_append_sheet(s,t,"Supervisees");var n=p.P6.json_to_sheet(R.map(e=>(delete e.month,delete e.year,e)));p.P6.book_append_sheet(s,n,"CRS"),p.NC(s,"".concat(m).concat(f,".xlsx"))},showSpinner:i}),(0,t.jsx)(U.Z,{isOpen:""!=e,closeModal:()=>{a("")},title:"There was a problem with the files",children:e})]})}},3539:function(e,a,s){"use strict";s.d(a,{Z:function(){return n}});var t=s(9268);function n(e){let{onClick:a,description:s,invisible:n}=e;return(0,t.jsxs)("button",{className:n?"invisible":"outline-none rounded-md p-2 gap-2 inline-flex items-center justify-center text-gray-800 hover:text-white hover:bg-amber-400 hover:underline",onClick:a,children:[(0,t.jsx)("span",{className:"sr-only",children:"Go"}),s&&(0,t.jsx)("span",{className:"",children:s}),(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})})]})}},8395:function(e,a,s){"use strict";s.d(a,{Z:function(){return i}});var t=s(9268);function n(e){let{onClick:a,description:s,invisible:n}=e;return(0,t.jsxs)("button",{className:n?"invisible":"outline-none rounded-md p-2 gap-2 inline-flex items-center justify-center text-gray-800 hover:text-white hover:bg-amber-400 hover:underline",onClick:a,children:[(0,t.jsx)("span",{className:"sr-only",children:"Go"}),(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 12h-15m0 0l6.75 6.75M4.5 12l6.75-6.75"})}),s&&(0,t.jsx)("span",{className:"",children:s})]})}var r=s(3539),o=s(9738),l=s(5720);function i(e){let{isCardSelected:a,goToNextCard:s,goToPreviousCard:i,title:c,showSpinner:d,children:u}=e;return void 0===d&&(d=!1),(0,t.jsx)(o.u,{appear:!0,show:a,enter:"transition-opacity ease-in-out duration-500 transform",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-in-out duration-0 transform",leaveFrom:"opacity-100",leaveTo:"opacity-0",className:"max-w-full",children:(0,t.jsxs)("div",{className:"w-auto h-auto flex flex-col place-items-center",children:[(0,t.jsxs)("div",{className:"w-full my-5 flex flex-row justify-between",children:[(0,t.jsxs)("div",{className:"h-10 self-center",children:[i&&(0,t.jsx)(n,{onClick:i,description:"Prev"}),i&&(0,t.jsx)(n,{description:"Prev",invisible:!0})]}),(0,t.jsx)("div",{className:"text-2xl font-medium py-2 lg:py-8",children:c}),(0,t.jsxs)("div",{className:"h-10 self-center",children:[s&&(0,t.jsx)(r.Z,{onClick:s,description:"Next"}),!s&&(0,t.jsx)(r.Z,{description:"Next",invisible:!0})]})]}),d&&(0,t.jsx)(l.Z,{width:"w-12",height:"h-12"}),!d&&u]})})}},8021:function(e,a,s){"use strict";s.d(a,{Z:function(){return i}});var t=s(9268),n=s(9738),r=s(9936),o=s(6006),l=s(4192);function i(e){let{isOpen:a,closeModal:s,title:i,children:c,className:d}=e;return(0,t.jsx)(n.u,{appear:!0,show:a,as:o.Fragment,children:(0,t.jsxs)(r.V,{as:"div",className:"relative z-10 overflow-auto",onClose:s,children:[(0,t.jsx)(n.u.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,t.jsx)("div",{className:"fixed inset-0 overflow-y-auto object-center",children:(0,t.jsx)("div",{className:"flex min-h-fit items-center justify-center p-4 text-center ".concat(d),children:(0,t.jsx)(n.u.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,t.jsxs)(r.V.Panel,{className:"min-w-5/6 lg:min-w-3/6 transform rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[(0,t.jsxs)("div",{className:"static flex flex-row justify-between place-items-center",children:[(0,t.jsx)(r.V.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:i}),(0,t.jsx)(l.Z,{onClick:s})]}),c]})})})})]})})}},3916:function(e,a,s){"use strict";s.d(a,{u:function(){return r}});var t=s(9268),n=s(1888);function r(e){let{tabTitles:a}=e;return a.length>6||a.length,(0,t.jsx)(n.O.List,{className:"flex flex-row rounded-xl bg-gray-300 p-1 my-1",children:a.map(e=>(0,t.jsx)(n.O,{className:e=>{let{selected:a}=e;return function(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return a.filter(Boolean).join(" ")}("w-full rounded-lg py-2.5 px-2 text-sm font-semibold leading-5","focus:outline-none",a?"bg-gray-100 pointer-events-none":"opacity-50 hover:opacity-100 hover:bg-amber-400 hover:text-slate-100")},children:e},e))})}},1401:function(e,a,s){"use strict";s.d(a,{Z:function(){return n}});var t=s(9268);function n(e){let{children:a}=e;return(0,t.jsx)("div",{className:"overflow-x-scroll max-w-full max-h-screen flex flex-col justify-items-center",children:(0,t.jsx)("div",{className:"table bg-white",children:a})})}}},function(e){e.O(0,[87,985,431,586,725,253,769,744],function(){return e(e.s=7924)}),_N_E=e.O()}]);